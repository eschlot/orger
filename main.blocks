<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id=".mi*oV/d^?,nb)S{`LL/">x</variable><variable id="W%wK#:8BH@}!3vm:K4P!">y</variable><variable id="B4+*wbMNBdNceYYJw-Ti">item</variable><variable id="Q1.FEJH7YYG+##~p5:#7">x2</variable><variable id="Ec5(**2z#)b=R*IxRw%C">y2</variable><variable id="#X+@9oav4hiD=r#OL.he">item2</variable></variables><block type="pxt-on-start" id="eEHc]7]iVH)S~)54S-26" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="3Cb,}ZMvi2rPu((K{w@`" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let state:myState = new myState()" numlines="1" declaredvars="state"></mutation><next><block type="controls_repeat_ext" id="RtnpG,i%q8MNk:@4,:}@"><comment>Baeume</comment><value name="TIMES"><shadow type="math_whole_number" id="T942dQQF^aIP}sVwmt^e"><field name="NUM">20</field></shadow></value><statement name="DO"><block type="variables_set" id="A^-?E7AL024VyJ4sBK-$"><field name="VAR" id=".mi*oV/d^?,nb)S{`LL/">x</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random" id="-qE{}{U,l;VxMXZnS]DJ"><value name="min"><shadow type="math_number" id="[HRSM;WmmCe00yV3)rdp"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="cA~t,BGAm?NENl34xsDi"><field name="NUM">39</field></shadow></value></block></value><next><block type="variables_set" id="xDM3SBVk;ar*]-?~L6d`"><field name="VAR" id="W%wK#:8BH@}!3vm:K4P!">y</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random" id="Uz=;BY;)?lI2fRQ5@:tf"><value name="min"><shadow type="math_number" id="DQa_$S1_:)]jz^-:k3a?"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="Z_k@~5=AO@UED6JQ|V|:"><field name="NUM">24</field></shadow></value></block></value><next><block type="typescript_statement" id="7LTT+LR2=$Mx@6K}xu!v" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let item = new myTree(x,y)" numlines="1" declaredvars="item"></mutation><next><block type="array_push" id="jN#~Vhc])ZVz=n,Zbv*u"><value name="list"><block type="typescript_expression" id="Rrh(ShRrB09!-:?L6920" editable="false"><field name="EXPRESSION">state.itemsInWorld</field></block></value><value name="value"><block type="variables_get" id="tmTgrcQvbvPg7r.6^c_I"><field name="VAR" id="B4+*wbMNBdNceYYJw-Ti">item</field></block></value></block></next></block></next></block></next></block></statement><next><block type="controls_repeat_ext" id="Qfkrho7dVyfTFnA?v:;B"><comment>Steine</comment><value name="TIMES"><shadow type="math_whole_number" id="sF49K+Ph[wKLjReSpV?n"><field name="NUM">25</field></shadow></value><statement name="DO"><block type="variables_set" id="iFa*f]-2{Z1S4f5It5Ek"><field name="VAR" id="Q1.FEJH7YYG+##~p5:#7">x2</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random" id="Stc,p^@?Et+/B4Q]5n92"><value name="min"><shadow type="math_number" id="NI1y,*GP$q{fEBv#]`es"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="d504D-kVpK0=!hoOIlS`"><field name="NUM">39</field></shadow></value></block></value><next><block type="variables_set" id=".~7n3D7_E+b7~b=w=cP9"><field name="VAR" id="Ec5(**2z#)b=R*IxRw%C">y2</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random" id="X(Ou9ZyaRkYnkC=EsOo:"><value name="min"><shadow type="math_number" id="etf775_pjkcMZ0d)Zy:="><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="%4R`?OS}.{0x4ze.[5d!"><field name="NUM">24</field></shadow></value></block></value><next><block type="typescript_statement" id="GLeu]3jbHKnKIA($ZFpH" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let item2 = new myStone(x2,y2)" numlines="1" declaredvars="item2"></mutation><next><block type="array_push" id="0In5y*ZuNo-{/oQRU]pp"><value name="list"><block type="typescript_expression" id="%HsV%F|MD3[iGMeK/:{5" editable="false"><field name="EXPRESSION">state.itemsInWorld</field></block></value><value name="value"><block type="variables_get" id="7XN:.a|vaq,=V|_aaRE/"><field name="VAR" id="#X+@9oav4hiD=r#OL.he">item2</field></block></value></block></next></block></next></block></next></block></statement><next><block type="typescript_statement" id=",;u8exS//1V){CpsN7ov" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="storyboard.registerScene(&quot;game&quot;, " line1=" function()" line2=" {" line3="    tiles.setTilemap(tilemap`Level1`)" line4="    state.itemsInWorld.forEach(function(value: myItem, index: number) {" line5="        tiles.setTileAt(tiles.getTileLocation(value.x, value.y), value.img)            " line6="    })" line7="" line8="    let player = sprites.create(sprites.castle.heroFrontAttack1)" line9="    player.x=state.player_x" line10="    player.y=state.player_y" line11="" line12="    controller.moveSprite(player)" line13="    scene.cameraFollowSprite(player)" line14="" line15="    controller.player1.onButtonEvent(ControllerButton.B, ControllerButtonEvent.Pressed, function() {" line16="        state.player_x=player.x" line17="        state.player_y=player.y            " line18="        storyboard.push(&quot;inventory&quot;)" line19="    })" line20="" line21="    controller.A.onEvent(ControllerButtonEvent.Pressed, function() {" line22="" line23="        let tile_x=player.x/16" line24="        let tile_y=player.y/16" line25="" line26="        let interactingItems:myItem[]" line27="" line28="" line29="" line30="        state.itemsInWorld.forEach(function(value: myItem, index: number) {" line31="            if (distsqr(tile_x,tile_y,value.x,value.y)&lt;100)" line32="            {" line33="                interactingItems.push(value)" line34="            }" line35="        })" line36="        interactingItems.forEach(function(value: myItem, index: number) {" line37="            let newItems:myItem[] = value.interact()" line38="            state.itemsInInventory.removeElement(value)" line39="            newItems.forEach(function(newValue: myItem, index: number) {" line40="                tiles.setTileAt(tiles.getTileLocation(newValue.x, newValue.y), newValue.img)       " line41="                state.itemsInInventory.push(newValue)" line42="            })" line43="        })" line44="    })" line45=" }" line46=")" numlines="47"></mutation><next><block type="typescript_statement" id="?Q;Zd,W)-DjW?:lm3k{h" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="storyboard.registerScene(&quot;inventory&quot;, " line1="    function()" line2="    {" line3="        const title=sprites.create(img`.`)" line4="        title.say(&quot;inventar&quot;)  " line5="        title.y=20" line6="        title.x=20" line7=" " line8="        controller.player1.onButtonEvent(ControllerButton.B, ControllerButtonEvent.Pressed, function() {" line9="            storyboard.pop()  " line10="        })" line11="    }" line12=")" numlines="13"></mutation><next><block type="typescript_statement" id="+=f6_,6%vmX.a1Xp}al]" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="storyboard.registerScene(&quot;skills&quot;, " line1="    function()" line2="    {" line3="        const title2=sprites.create(img`.`)" line4="        title2.say(&quot;skills&quot;)  " line5="        title2.y=20" line6="        title2.x=100" line7="    }" line8=")" numlines="9"></mutation><next><block type="storyboardstart" id="}V?|^G@3{/+DDbx7{d~2"><value name="name"><shadow type="text" id="8o1*oFU8A)kD!Q2B)MZF"><field name="TEXT">game</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="-/#c.oz}3fU`@zBLBk@)" x="1064" y="20"><mutation name="distsqr" functionid="!9!71^@mHM]xV4Pg`fkI"><arg name="a_x" id="6zrvslhv6v67w1xptbnd" type="number"/><arg name="a_y" id="n3f3lhzfqt5bk0qckj0x8" type="number"/><arg name="b_x" id="ntnx6uvvxafbq6u3oxil5" type="number"/><arg name="b_y" id="nbt1m8azfatozyf5prim" type="number"/></mutation><field name="function_name">distsqr</field><statement name="STACK"><block type="function_return" id="$(Pm_A:Pn|G3^aZ2V#0{"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="SQ#z(VK-_:Q`[Jx`)p_~"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="-!)x6GA5~~2UPDm=UVw]"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="K,)U~$QUMPL_SP}tHz9k"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="!a_cItc[RF?Q{lzywMCP"><field name="VALUE">b_x</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id=":i.v/0)|u`VWidd*B#aG"><field name="VALUE">a_x</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Mg|)!2|k89lB3Fxo-1ww"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="Uc)Kn.1eZHY?{db{!?3W"><field name="VALUE">b_x</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="a[CWtCRClAQwYh!/PQM_"><field name="VALUE">a_x</field></block></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="NLx3C^,JP!@[0HG5d~Dz"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="-GerL:fgk[bcO-A,W-Iv"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="2k]/$j^pExzmJ3AqO641"><field name="VALUE">b_y</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="puu-imuZW~1*S0wt3P-$"><field name="VALUE">a_y</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="!0azaJ@wi#W-y_eTFw!j"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="Cph?%9Hg(?`8Mc2[ozCS"><field name="VALUE">b_y</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="/txD~vH/{CNd;^/JSMv}"><field name="VALUE">a_y</field></block></value></block></value></block></value></block></value></block></statement></block></xml>